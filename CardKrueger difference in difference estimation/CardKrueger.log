--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  V:\Program Files (x86)\Stata\week3\CardKrueger.log
  log type:  text
 opened on:  26 Nov 2020, 16:45:42

. 
. use CardKruegerTute3, clear

. 
. ***Question 5
. //Generate NJ dummy
. gen nj = stater

. label var nj "New Jersey"

. 
. //Generate second period dummy
. gen time2 = (time == 2)

. 
. //Generate interaction of NJ (treated) and time2 (post)
. gen njtime2 = nj*time2

. 
end of do-file

. count(wage_st)
varlist not allowed
r(101);

. sum wage_st

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     wage_st |        734     4.80485    .3585391       4.25       6.25

. browse

. tab stater, nol

     STATEr |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        150       19.53       19.53
          1 |        618       80.47      100.00
------------+-----------------------------------
      Total |        768      100.00

. by id: egen x1 = count(wage_st)

. by id: egen x2 = sum(closed)

. browse

. reg wage_st nj time2 njtime2 if (x1 == 2 & x2 == 0)

      Source |       SS           df       MS      Number of obs   =       702
-------------+----------------------------------   F(3, 698)       =    156.91
       Model |  36.1932033         3  12.0644011   Prob > F        =    0.0000
    Residual |   53.668587       698  .076889093   R-squared       =    0.4028
-------------+----------------------------------   Adj R-squared   =    0.4002
       Total |  89.8617903       701  .128190856   Root MSE        =    .27729

------------------------------------------------------------------------------
     wage_st |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
          nj |  -.0406539   .0378784    -1.07   0.284    -.1150232    .0337153
       time2 |  -.0348485   .0482698    -0.72   0.471    -.1296199    .0599229
     njtime2 |   .5040066   .0535681     9.41   0.000     .3988326    .6091805
       _cons |   4.653636   .0341319   136.34   0.000     4.586623     4.72065
------------------------------------------------------------------------------

. reg wage_st nj time2 njtime2 if (x1 == 2 & x2 == 0 | x1 == 1), robust

Linear regression                               Number of obs     =        734
                                                F(3, 730)         =     231.59
                                                Prob > F          =     0.0000
                                                R-squared         =     0.4115
                                                Root MSE          =     .27561

------------------------------------------------------------------------------
             |               Robust
     wage_st |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
          nj |  -.0214747   .0465407    -0.46   0.645    -.1128443    .0698949
       time2 |  -.0131703   .0599381    -0.22   0.826    -.1308419    .1045014
     njtime2 |   .4854285   .0635008     7.64   0.000     .3607625    .6100945
       _cons |   4.630417    .041986   110.28   0.000     4.547989    4.712844
------------------------------------------------------------------------------

. reg wage_st nj time2 njtime2 if (x1 == 2 & x2 == 0 | x2 == 1), robust

Linear regression                               Number of obs     =        708
                                                F(3, 704)         =     220.68
                                                Prob > F          =     0.0000
                                                R-squared         =     0.4041
                                                Root MSE          =     .27773

------------------------------------------------------------------------------
             |               Robust
     wage_st |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
          nj |  -.0416881   .0480196    -0.87   0.386    -.1359668    .0525906
       time2 |  -.0325554   .0619146    -0.53   0.599    -.1541148     .089004
     njtime2 |   .5050408   .0654416     7.72   0.000     .3765568    .6335248
       _cons |   4.651343   .0435511   106.80   0.000     4.565838    4.736849
------------------------------------------------------------------------------

. tab chainr

     CHAINr |      Freq.     Percent        Cum.
------------+-----------------------------------
burger king |        318       41.41       41.41
        KFC |        158       20.57       61.98
 Roy Rogers |        188       24.48       86.46
     Wendys |        104       13.54      100.00
------------+-----------------------------------
      Total |        768      100.00

. tab chain, nol

     CHAINr |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        318       41.41       41.41
          2 |        158       20.57       61.98
          3 |        188       24.48       86.46
          4 |        104       13.54      100.00
------------+-----------------------------------
      Total |        768      100.00

. do "C:\Users\leichen\AppData\Local\Temp\STD2e98_000000.tmp"

. //DD Estimator with Controls
. gen bk = (chainr == 1)

. gen kfc = (chainr == 2)

. gen roys = (chainr == 3)

. gen wendys = (chainr == 4)

. 
end of do-file

. do "C:\Users\leichen\AppData\Local\Temp\STD2e98_000000.tmp"

. reg emptot nj time2 njtime2 bk kfc roys co_owned if (x2 == 0 & x1 == 2 | x2 == 1), robust

Linear regression                               Number of obs     =        714
                                                F(7, 706)         =      43.53
                                                Prob > F          =     0.0000
                                                R-squared         =     0.1972
                                                Root MSE          =     8.5616

------------------------------------------------------------------------------
             |               Robust
      emptot |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
          nj |  -2.399788   1.410026    -1.70   0.089    -5.168134    .3685582
       time2 |  -2.126866   1.596575    -1.33   0.183    -5.261469    1.007738
     njtime2 |   2.325831   1.742213     1.33   0.182    -1.094708     5.74637
          bk |   1.235364   1.035725     1.19   0.233    -.7981056    3.268833
         kfc |  -9.204407   1.000226    -9.20   0.000    -11.16818   -7.240633
        roys |  -.5329696   1.163739    -0.46   0.647    -2.817773    1.751834
    co_owned |  -1.191744   .6611047    -1.80   0.072     -2.48971    .1062225
       _cons |   25.00168   1.513719    16.52   0.000     22.02975    27.97361
------------------------------------------------------------------------------

. 
end of do-file

. do "C:\Users\leichen\AppData\Local\Temp\STD2e98_000000.tmp"

. log close
      name:  <unnamed>
       log:  V:\Program Files (x86)\Stata\week3\CardKrueger.log
  log type:  text
 closed on:  26 Nov 2020, 17:06:06
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
